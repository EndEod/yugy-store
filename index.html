<script>
(function(){
  try{
    // 이미 선택한 적 있으면 끝
    if (localStorage.getItem('lang_pref')) return;

    // KO 브라우저면 굳이 안 묻기
    const nav = (navigator.language || '').toLowerCase();
    if (nav.startsWith('ko')) return;

    // 작은 배너 생성
    const bar = document.createElement('div');
    bar.style.position = 'fixed';
    bar.style.left = '12px';
    bar.style.right = '12px';
    bar.style.bottom = '12px';
    bar.style.zIndex = '5000';
    bar.style.background = 'rgba(255,255,255,0.96)';
    bar.style.border = '1px solid #e8e5d8';
    bar.style.borderRadius = '14px';
    bar.style.boxShadow = '0 10px 30px rgba(0,0,0,.10)';
    bar.style.padding = '12px 12px';
    bar.style.maxWidth = '900px';
    bar.style.margin = '0 auto';
    bar.innerHTML = `
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:space-between;">
        <div style="font-weight:800; color:#1f2a24;">
          Prefer English? You can view the English page.
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <button id="stayKO" style="padding:10px 12px; border-radius:999px; border:1px solid #e8e5d8; background:#fff; font-weight:800; cursor:pointer;">
            Stay in Korean
          </button>
          <button id="goEN" style="padding:10px 12px; border-radius:999px; border:1px solid rgba(31,122,74,.2); background:#1f7a4a; color:#fff; font-weight:900; cursor:pointer;">
            Go to English
          </button>
        </div>
      </div>
    `;
    document.body.appendChild(bar);

    document.getElementById('stayKO').onclick = function(){
      localStorage.setItem('lang_pref','ko');
      bar.remove();
    };
    document.getElementById('goEN').onclick = function(){
      localStorage.setItem('lang_pref','en');
      location.href = './en/';
    };
  }catch(e){}
})();
</script>
